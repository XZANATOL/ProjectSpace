## What's That?

A side project I made when learning Angular. I used to read alot through its documentation, so thought about summarizing the conclusions here.

### PocketBase SDK.

PocketBase SDK automatically changes key 'pocketbase_auth' in localStorgae with any attempt to login or session load from cookie, adding the raw session token in there.

I want to make it more secure. Thinking about adding an encryption algorithm to it. For now I'm adding it in the URL encoded form with exporting the session to a cookie via `pb.authStore.exportToCookie()` and re-assigning the key with the generated string.

PocketBase SDK is not the best go-to option if you're willing to do concurrent connections as any request you make you have to create a seperate instance of PocketBase class to it. The problem is that they all depend on the localStorage `pocketbase_auth` key to save the session, and any request you make has an autoCancel method that triggers on any change to this key. So for example you have 2 methods, you have to load both with the token before sending a request and each will override the same data to the localStorage key. So for any moment one instance makes a request and the other instance was loading the session token and over-wrote the key, The method will trigger canceling the request of the 1st instance. (This commonly happens on ngOnInit)

The work around I had to make was to let the requests trigger under the same method, thus with the same session, and after finishing, it updates the localStorage key once. _Dealing with the API sounds more reasonable now.. also I can integerate it with Observables unlike the SDK_ 

### Browsers Web Storages

*Local Storage:* saves data even after browser closes.<br>
*Session Storage:* deletes data only when the tab or browser closes.

### Angular Environment Variables

There used to be an `environments` directory in the project root directory, but this was removed from the default template generated by AngularCLI in the 15th release. So you have to add that manually if you wanted to use env vars.

### Angular Forms

*Template-Driven:* useful for small forms that are used once. (Asynchronous)<br>
*Reactive:* usefull for scalable multi-use forms. (Synchronous)

### Angular Reactive Forms

Custom validator is a very handy tool to obtain when you can't find a built-in validation method for your formControl. it helps you:
* Avoid putting complex wrangling code in a component .ts template.
* Placing the validation as an abstract function that you can import.
* Re-use the abstract function in other parts of your application.

### Angular SSR

Spent some time reading the documentation to wrap my head around it. In short, SSR has nothing to do with editing your code base as I did with lazy loading modules. It's just another rendering engine or a middleware between the user request and the server where it renders the dynamic data and serving it as static HTML.

This is usefull for:
* Facilitate web crawlers through search engine optimization (SEO)
* Improve performance on mobile and low-powered devices
* Show the first page quickly with a first-contentful paint (FCP)

On the disadvnatages, some interactive parts won't be available untill the full client application is bootstrapped and run. Through this final notes, I can say I've finally founded myself into Angular. :)

### Angular CSS animations

Angular blocks animations due to CSS encapsulation. There is a workaround, but gonna learn that later.

## To-DO

**Done**
* Add design to dashboard component.
* Design database schema for applications.
* Add refresh token algorithm.
* Add service to obtain table records for a user.
* Update dashboard HTML to recieve the new data.
* Add interactoins
* Add logout algorithm.
* Begin with record-detail component.
* Add Reactive form to .ts & .html.
* Add `/appRecord/:id` route logic in component .ts file.
* Add form submit logic.
* Add a custom url matcher to validate `/appRecord/:id` route.
* Implement Lazy Load.
* Implement SSR.

**Canceled**
* (When done with the app) Impelement an encryption algorithm to the session token.
	- out of the project scope.